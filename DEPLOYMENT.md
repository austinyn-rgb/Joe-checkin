# 如何生成链接和分享到飞书 📤

## 当前情况说明

现在应用运行在**本地开发环境**，地址是：`http://localhost:5000`

**注意**：这个地址只能在您的电脑上访问，**不能**直接分享给小朋友或其他设备。

## 如何分享给小朋友？🎯

### 方案一：部署到公网（推荐）✨

将应用部署到云端，生成可访问的公网链接，然后分享给小朋友。

#### 推荐的免费部署平台

1. **Vercel**（最推荐，Next.js 官方推荐）
   - 优点：免费、快速、部署简单、自动 HTTPS
   - 步骤：
     1. 注册账号：https://vercel.com
     2. 下载并安装 Vercel CLI：
        ```bash
        pnpm add -g vercel
        ```
     3. 在项目目录下执行：
        ```bash
        vercel --prod
        ```
     4. 按提示操作，部署成功后会获得一个 `https://xxx.vercel.app` 的链接
     5. 复制链接发给小朋友

2. **Netlify**
   - 优点：免费、易用、支持自定义域名
   - 步骤：
     1. 注册账号：https://netlify.com
     2. 在项目目录下构建：
        ```bash
        coze build
        ```
     3. 将 `out` 或 `.next` 文件夹拖拽到 Netlify 上传区域
     4. 部署成功后获得链接

3. **Cloudflare Pages**
   - 优点：全球 CDN 加速、完全免费
   - 步骤：
     1. 注册账号：https://pages.cloudflare.com
     2. 连接 GitHub 仓库或直接上传文件
     3. 自动部署

#### 部署后如何分享到飞书？

1. **方法一：通过应用内分享按钮**
   - 部署后打开应用
   - 点击"分享到飞书"按钮
   - 选择要分享的飞书好友或群组

2. **方法二：复制链接手动分享**
   - 部署后打开应用
   - 点击"复制链接"按钮
   - 打开飞书，粘贴链接发送给小朋友

3. **方法三：飞书分享协议**
   - 在飞书聊天窗口输入：
     ```
     https://你的部署地址.com
     ```
   - 飞书会自动识别并生成卡片预览

### 方案二：使用内网穿透工具（临时方案）

如果只是临时分享，可以使用内网穿透工具：

#### 使用 ngrok（简单快速）

1. **下载 ngrok**
   - 访问：https://ngrok.com
   - 注册并下载对应系统的版本

2. **启动应用**
   ```bash
   # 确保应用在运行
   coze dev
   ```

3. **启动 ngrok**
   ```bash
   ./ngrok http 5000
   ```

4. **获取公网链接**
   - ngrok 会显示一个类似 `https://xxx.ngrok.io` 的链接
   - 复制这个链接分享给小朋友

**注意**：
- ngrok 免费版每次生成的链接会变化
- 适合临时测试，不适合长期使用

### 方案三：飞书小程序/飞书文档（嵌入方式）

#### 方式一：飞书小程序
1. 在飞书开放平台创建小程序
2. 将应用打包上传
3. 发布后小朋友可以在飞书内直接使用

#### 方式二：飞书文档嵌入网页
1. 在飞书文档中插入网页块
2. 粘贴应用链接
3. 小朋友在飞书文档内直接使用

## 如何使用分享功能？📱

### 当前版本已集成的分享功能

应用页面顶部有两个按钮：

#### 1. 复制链接按钮 📋
- 点击后自动复制当前页面链接
- 按钮文字会短暂显示"已复制链接"
- 然后可以在飞书中粘贴发送

#### 2. 分享到飞书按钮 📤
- 点击后会调用系统分享功能
- 可以选择分享到飞书或其他应用
- 如果浏览器不支持分享，会自动复制链接并提示

## 部署到 Vercel 详细教程（最推荐）🚀

### 步骤 1：安装 Vercel CLI

```bash
# 使用 pnpm 全局安装
pnpm add -g vercel

# 验证安装
vercel --version
```

### 步骤 2：构建应用

```bash
# 在项目目录下构建
pnpm build
```

### 步骤 3：部署到 Vercel

```bash
# 部署到生产环境
vercel --prod
```

### 步骤 4：配置部署信息

按提示选择：
```
? Set up and deploy "~/projects"? [Y/n] Y
? Which scope do you want to deploy to? Your Name
? Link to existing project? [y/N] N
? What's your project's name? yangziyou-checkin
? In which directory is your code located? ./
? Want to override the settings? [y/N] N
```

### 步骤 5：获取部署链接

部署成功后会显示：
```
✅ Production: https://yangziyou-checkin.vercel.app
```

### 步骤 6：分享到飞书

1. 复制部署链接：`https://yangziyou-checkin.vercel.app`
2. 打开飞书
3. 在聊天窗口粘贴链接
4. 点击发送

## 积分规则说明 📊

### 最新积分规则（已更新）

- ✅ 每完成一项活动：**+100 积分**
- ✅ 完成全部5项打卡：**额外 +5 积分**
- ✅ 每天最多可获得：**505 积分**

### 活动列表（每项45分钟）
1. 🎨 寒假生活 - 100分
2. 📚 中文阅读 - 100分
3. 🔢 数学练习 - 100分
4. 🌍 英文阅读 - 100分
5. 🏃 体育锻炼 - 100分

**总计：500 积分/天**

## 常见问题 FAQ

### Q1：为什么 localhost:5000 不能分享？
A：localhost 是本地地址，只能在您的电脑上访问。其他设备无法访问。

### Q2：部署需要多久？
A：Vercel 部署通常只需 1-2 分钟。

### Q3：部署需要费用吗？
A：Vercel 免费版完全够用，无需付费。

### Q4：小朋友没有手机怎么办？
A：可以在家长的手机或平板上使用，建议固定在一台设备上。

### Q5：飞书分享不成功怎么办？
A：
- 确保已部署到公网
- 尝试使用"复制链接"按钮
- 手动复制链接到飞书粘贴

### Q6：如何更新应用？
A：
- 修改代码后
- 重新运行 `vercel --prod`
- Vercel 会自动更新

## 快速开始命令 🛠️

```bash
# 1. 本地开发
coze dev

# 2. 构建应用
pnpm build

# 3. 部署到 Vercel
vercel --prod

# 4. 使用 ngrok 临时分享
ngrok http 5000
```

## 下一步建议 💡

1. **立即部署**：选择 Vercel 部署，获得公网链接
2. **测试访问**：在不同设备上测试访问
3. **分享给小朋友**：在飞书中分享链接
4. **定期检查**：查看小朋友的打卡情况
5. **数据备份**：定期截图保存积分记录

---

如有任何问题，请查看 README.md 或联系开发者！📧
